# Тестовое задание: Конструктор блоков

## Описание задания

Необходимо реализовать конструктор блоков с различными типами контента и возможностью их добавления на главную страницу и редактирования. В проекте уже подготовлена базовая структура компонентов, ваша задача - реализовать всю необходимую логику.

### Визуализация финальной версии

Я оставлю ссылку на видео, в котором наглядно будет показано, как должна выглядеть финальная версия приложения с функционалом. Это поможет вам лучше понять требования и ожидаемый результат.
https://crfo-devcourses-external.t-static.ru/shara/crfo-dev/reference_tz.mp4

### Функциональные требования:

1. **Добавление блоков**

   - Реализовать логику добавления новых блоков трех типов:
     - Заголовок с картинкой
     - Текстовый блок
     - Тестовый блок с вариантами ответов
   - При добавлении блоков в конец списка должен быть настроен автоскролл к элементу.

2. **Редактирование блоков**

   - В проекте представлен пример модального окна для редактирования заголовка
   - Необходимо самостоятельно реализовать модальные окна для текстового и тестового блоков по аналогии
   - Необходимо реализовать всю необходимую логику, которую выполняют модальные окна (замена текста, заголовка, ссылки на картинку, составление и редактирование тестовых вопросов)
   - Для тестового блока требуется разработать:
     - Интерфейс добавления/удаления вариантов ответа
     - Возможность отметки правильных ответов
     - Валидацию формы

3. **Управление блоками**

   - Реализовать перемещение блоков:
     - Кнопки перемещения вверх/вниз
     - Drag-and-drop (рекомендуемые библиотеки: react-beautiful-dnd, @hello-pangea/dnd, dnd-kit)
   - Реализовать удаление блоков с подтверждением
   - Реализовать очистку всех блоков с подтверждением
   - Реализовать сохранение состояния в localStorage (если страницу обновим – ничего не должно пропасть с главной страницы)

4. **Тестовые блоки**
   - Реализовать логику работы с вариантами ответов:
     - Добавление новых вариантов ответа (с валидацией)
     - Удаление существующих вариантов (с проверкой минимального количества)
     - Редактирование текста вариантов
     - Отметка правильных ответов (один или несколько)
   - Реализовать логику проверки ответов:
     - Автоматическое определение типа теста (одиночный/множественный выбор)
     - Проверка выбранных ответов
     - Отображение результата (правильно/неправильно)
     - Подсветка правильных и неправильных ответов
   - Реализовать валидацию:
     - Минимум 2 варианта ответа
     - Хотя бы один правильный ответ
     - Все варианты должны иметь непустой текст

### Технические требования:

1. Использовать Redux или ReduxToolkit для управления состоянием
2. Реализовать сохранение состояния в localStorage:
   - Автоматическое сохранение при изменениях
   - Загрузка состояния при инициализации
   - Возможность очистки хранилища
3. Обеспечить корректную работу drag-and-drop
4. Следовать существующей структуре проекта

## Структура проекта

- `src/components/Block` - компонент для отображения блоков на странице (главная)
- `src/components/BlockSelector` - компонент выбора типа блока
- `src/components/EditorModal` - модальное окно редактирования (содержит базовый пример для заголовка)
- `src/store/slices/blocksSlice.js` - Redux slice для управления блоками (требует реализации всех методов)

## Начальное состояние

При первом запуске проекта отображается один демонстрационный блок с заголовком. В проекте есть базовая структура модального окна для редактирования заголовка, которую нужно:

1. Доработать (реализовать функционал сохранения)
2. Использовать как пример для реализации других типов модальных окон

## Запуск проекта

Требуемая версия Node.js:

```bash
node version: v18.17.1
```

1. Установить зависимости:

```bash
npm install
```

2. Запустить проект:

```bash
npm run dev
```

## Критерии оценки

1. Качество и чистота кода:
   - Понятная структура компонентов
   - Отсутствие дублирования кода
   - Использование современных практик React
2. Работоспособность всех требуемых функций
3. Производительность:
   - Оптимизация рендеринга
   - Эффективная работа с состоянием
4. Следование существующей архитектуре проекта
5. Качество реализации пользовательского интерфейса

## Дополнительные задания (по желанию)

1. Добавить анимации при перемещении блоков
2. Реализовать сохранение истории изменений
